<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TYTOSCHOOL</title>
    <link rel="stylesheet" href="./css/test.css">
    <link rel="stylesheet" href="./css/dropdown.css">
    <link rel="stylesheet" href="./css/modal.css">
    <!-- Phone Mask lib -->
    <script src="./inputmask-phones/js/mask.js"></script>
    <script src="./inputmask-phones/js/mask_list.js"></script>
    <!-- Date-picker lib -->
    <link rel="stylesheet" href="./datepicker/css/datepicker.css">

    <!-- Defered scripts -->
    <script defer src="./js/app.js"></script>
    <script defer src="./js/dropdown.js"></script>
</head>

<body>
    <!-- HEADER start -->
    <div class="header" id="header">
        <div class="b-row b-row_spacebtw">
            <div class="b-row b-row_fit">
                <a class="b-text b-text_bold b-text_1.5em b-text_mgl1em" href="./index.html">
                    <img class="b-img b-img_logo" src="./images/logo.png" alt="logo">
                </a>
                <a class="b-text b-text_bold b-text_1.5em b-text_mgl1em" href="./index.html">TYTOSCHOOL</a>
            </div>
        </div>
    </div>
    <!-- HEADER end -->

    <!-- SECTION 1 start -->
    <section class="b-section b-section-1">
        <div class="b-column" style="text-wrap: nowrap;">
            <div class="b-text b-text_v1" style="margin-top: 1em;">Ивестиции в знания</div>
            <div class="b-text b-text_v1">всегда приносят</div>
            <div class="b-text b-text_v1">небольшие проценты</div>
            <form class="block form-js">
                <div id="1-setinput-js" style="position: relative;">
                    <div style="position: relative;">
                        <img class="dropdown-arrow" src="./images/settlement-arrow.svg" type="image/svg">
                        <input autocomplete="off" type="text" class="input-dropdown" name="user_subject" maxlength="256"
                            placeholder="Записаться на занятие" required>
                    </div>
                    <div class="dropdown">
                        <ul></ul>
                    </div>
                </div>
                <div id="1-setinput-js_errorlbl" class="b-text b-text_error"></div>
                <input value="none" name="user_type" type="hidden">
                <input autocomplete="off" class="b-input b-input_mgt1" name="user_email"
                    placeholder="E-mail/Telegram/WhatsApp" type="text" required>
                <div id="user-email_errorlbl" class="b-text b-text_error"></div>
                <button type="button" class="b-btnv1 button-modjs">Далее</button>
            </form>
        </div>
        <img class="b-img b-img_v1" src="./images/ui-man.svg" alt="ui-person">
    </section>
    <!-- SECTION 1 end -->

    <!-- SECTION 2 start -->
    <section class="b-section b-section-2">
        <div class="a-ellipse"></div>
        <div style="position: relative; width: fit-content;">
            <div class="b-text b-text_z1 b-text_fit b-texttit">Выбери направление!</div>
            <div class="square" style="border-radius: 0.1em 100%;">
                <div class="square" style="border-radius: 0.5em 100%; background-color: #5bafe3;"></div>
            </div>
        </div>
        <div class="b-column" id="choices" style="padding: 2em; padding-top: 4em;">

            <div class="b-column b-column_custom">
                <ul class="ul_custom">
                    <div class="b-text b-text_center b-text_bback b-text_bback_v1">Индивидуальные занятия</div>
                    <li>
                        <div class="cnum">1.</div>Индивидуальный подход
                    </li>
                    <li>
                        <div class="cnum">2.</div>Разработка личного плана
                    </li>
                    <li>
                        <div class="cnum">3.</div>Полное погружение в тему
                    </li>
                    <li>
                        <div class="cnum">4.</div>Возможнось выбора темы
                    </li>
                    <li>
                        <div class="cnum">5.</div>Гибкий график
                    </li>
                </ul>
                <button class="b-btnv1 button-modjs">2000 ₽ 60 мин</button>
            </div>
            <div class="b-column b-column_custom" style="margin-top: 2em;">
                <ul class="ul_custom">
                    <div class="b-text b-text_center b-text_bback b-text_bback_v1">Групповые занятия</div>
                    <li>
                        <div class="cnum">1.</div>Работа в группе
                    </li>
                    <li>
                        <div class="cnum">2.</div>Обучение по общему плану
                    </li>
                    <li>
                        <div class="cnum">3.</div>Интересные активити в группе
                    </li>
                    <li>
                        <div class="cnum">4.</div>Новые знакомства
                    </li>
                    <li>
                        <div class="cnum">5.</div>Скидка если приведешь друга
                    </li>
                </ul>
                <button class="b-btnv1 button-modjs">1000 ₽ 60 мин</button>
            </div>
        </div>
        <img class="b-img b-img_v2" src="./images/ui-boys.png" alt="ui-person">
    </section>
    <!-- SECTION 2 end -->

    <!-- SOCIAL MEDIA start -->
    <section class="b-section b-section_btm">
        <div class="b-row b-row_v1">
            <a target="_blank" href="https://instagram.com/tytoschool?igshid=MTk0NTkyODZkYg==">
                <img class="img-social" src="./images/in.webp" alt="instagram" class="b-img">
            </a>
            <a target="_blank" href="https://t.me/tytoschool">
                <img class="img-social" src="./images/tm.webp" alt="telegram" class="b-img">
            </a>

            <a target="_blank" href="https://vk.com/club223662803">
                <img class="img-social" src="./images/vk.png" alt="vk" class="b-img">
            </a>

            <a target="_blank" href="https://www.youtube.com/@tytoschool">
                <img class="img-social" src="./images/youtube.webp" alt="yt" class="b-img">
            </a>

            <a href="mailto:lestevlestev8@gmail.com">
                <img class="img-social" src="./images/gm.webp" alt="gmail" class="b-img">
            </a>
        </div>
    </section>
    <!-- SOCIAL MEDIA end -->

    <!-- MODAL start -->
    <div id="modal-container">
        <div class="modal-background">
            <div class="modal">
                <form class="block form-js" style="margin: 0">
                    <div class="b-text"></div>
                    <!-- Sub-drop start -->
                    <div class="b-text-form">1. Выберите предмет:</div>
                    <div id="2-setinput-js" style="position: relative">
                        <div style="position: relative;">
                            <img class="dropdown-arrow" src="./images/settlement-arrow.svg" style="z-index: 100;"
                                type="image/svg">
                            <input autocomplete="off" type="text" class="input-dropdown" name="user_subject"
                                maxlength="256" placeholder="Записаться на занятие" style="z-index: 99;" required>
                        </div>
                        <div class="dropdown" style="z-index: 98;">
                            <ul>
                            </ul>
                        </div>
                    </div>
                    <!-- Sub-drop end -->

                    <!-- E-mail start -->
                    <div class="b-text-form">2. Введите вашу почту:</div>
                    <input autocomplete="off" class="b-input" name="user_email" placeholder="E-mail" type="text"
                        required>
                    <!-- E-mail end -->

                    <!-- Phone start -->
                    <div class="b-text-form">3. Введите ваш номер телефона:</div>
                    <input id="phone" class="b-input" type="text" name="user_phone" value="">
                    <script>mask("#phone");</script>
                    <!-- Phone end -->

                    <!-- Role start -->
                    <div class="b-text-form">4. Введите вашу роль:</div>
                    <div id="3-setinput-js" style="position: relative;">
                        <div style="position: relative;">
                            <img class="dropdown-arrow" src="./images/settlement-arrow.svg" type="image/svg"
                                style="z-index: 97;">
                            <input autocomplete="off" type="text" class="input-dropdown" name="user_type"
                                maxlength="256" placeholder="Роль" style="z-index: 96;" required>
                        </div>
                        <div class="dropdown" style="z-index: 95;">
                            <ul>
                            </ul>
                        </div>
                    </div>
                    <!-- Role start -->
                    <div id="conditional-appear">
                        <div class="b-text-form">5. Введите тип занятия:</div>
                        <div id="4-setinput-js" style="position: relative;">
                            <div style="position: relative;">
                                <img class="dropdown-arrow" src="./images/settlement-arrow.svg" type="image/svg" style="z-index: 94;">
                                <input autocomplete="off" type="text" class="input-dropdown" name="user_lesson_type"
                                    maxlength="256" placeholder="Тип Занятия" style="z-index: 93;">
                            </div>
                            <div class="dropdown" style="z-index: 92;">
                                <ul>
                                </ul>
                            </div>
                        </div>

                        <div class="b-text-form">6. Введите удобное вам время:</div>
                        <div class="mt40">
                            <div class="c-datepicker-date-editor c-datepicker-single-editor J-datepicker-en mt10">
                                <input type="text" autocomplete="off" name="meeting_time" placeholder="Выбрать дату"
                                    class=" c-datepicker-data-input">
                            </div>
                        </div>
                    </div>
                    <button type="submit" class="b-btnv1 submit-js">Отправить форму</button>
                </form>
            </div>
        </div>
    </div>
    <!-- MODAL end -->
</body>

<!-- SCRIPTS -->
<!-- datepicker scripts -->
<script src="./datepicker/js/plugins/jquery.js"></script>
<script src="./datepicker/js/plugins/moment.min.js"></script>
<script src="./datepicker/js/datepicker.all.js"></script>
<script src="./datepicker/js/datepicker.en.js"></script>
<!-- project scripts -->
<script src="./js/modal.js"></script>

<!-- emailjs start -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
<script type="text/javascript">
    (function () {
        emailjs.init('6PfILWGqONJpgXe4M');
    })();
</script>
<script type="text/javascript">
    window.onload = function () {
        const modal_container = document.getElementById("modal-container");
        const forms = document.querySelectorAll('.block.form-js');
        const body = document.querySelector("body");
        forms.forEach(function (form) {
            var button = form.querySelector(".submit-js");
            form.addEventListener('submit', function (event) {
                console.log("123..")
                event.preventDefault();
                // generate a five digit number for the contact_number variable
                this.contact_number = Math.random() * 100000 | 0;
                console.log(this.contact_number)
                // these IDs from the previous steps
                emailjs.sendForm('service_mcem11c', 'tytoschool_o3wx8gh', this)
                    .then(function () {
                        button.textContent = "Успешно отправлено";
                        form.reset()
                        setTimeout(() => {
                            button.textContent = "Отправить форму";
                            modal_container.classList.add("out");
                            body.classList.remove("modal-active");
                        }, 3000);
                        console.log('SUCCESS!');

                    }, function (error) {
                        button.textContent = "Возникла Ошибка";
                        form.reset()
                        setTimeout(() => {
                            button.textContent = "Отправить форму";
                        }, 3000);
                        console.log('FAILED...', error);
                    });
            });
        });

    }
</script>
<!-- emailjs end -->

</html>